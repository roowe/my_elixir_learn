在 Elixir 中，逗号（`,`）的使用规则如下：

---

## 1. 需要逗号的场景

### 1.1 列表、元组、Map、关键字列表等数据结构的元素之间
- **列表**  
  ```elixir
  [1, 2, 3]
  ```
- **元组**  
  ```elixir
  {:ok, "hello", 123}
  ```
- **Map**  
  ```elixir
  %{a: 1, b: 2}
  ```
- **关键字列表**  
  ```elixir
  [name: "Tom", age: 20]
  ```

### 1.2 多参数函数调用或定义时，参数之间
```elixir
def sum(a, b), do: a + b
sum(1, 2)
```

### 1.3 多个表达式在一行时
```elixir
a = 1; b = 2
```
> 但通常推荐每个表达式单独一行。

---

## 2. 不需要逗号的场景

### 2.1 单独的表达式或语句
```elixir
IO.puts("Hello")
```

### 2.2 do...end 代码块中的每个表达式
```elixir
def foo do
  a = 1
  b = 2
  a + b
end
```
> 这里每行结尾都**不需要**逗号。

### 2.3 管道操作符（|>）链式调用
```elixir
"hello"
|> String.upcase()
|> IO.puts()
```
> 每行结尾**不需要**逗号。

---

## 3. 其他注意事项

- Elixir 语句之间**通常不需要逗号**，除非在数据结构或参数列表中分隔元素。
- 在 do...end 结构、case、if、with 等控制结构的每个分支结尾**不需要逗号**。

---

### 总结

- **数据结构、参数列表**：元素之间用逗号。
- **代码块、控制结构、单独表达式**：不需要逗号。

如需具体场景示例或有特殊疑问，欢迎补充说明！